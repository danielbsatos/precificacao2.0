<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Precifica√ß√£o</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <!-- Calculadora -->
    <div class="calculator">
        <h1>Calculadora de Precifica√ß√£o</h1>

        <!-- Bot√£o para alternar modo escuro/claro -->
        <button id="toggleModo">üåô Alternar Modo</button>

        <!-- Custo e Pre√ßo de Venda -->
        <div class="input-group">
            <input type="number" id="custo" placeholder=" " required>
            <label for="custo">Custo do Produto (R$):</label>
        </div>

        <div class="input-group">
            <input type="number" id="precoVenda" placeholder=" " required>
            <label for="precoVenda">Pre√ßo de Venda (R$):</label>
        </div>

        <!-- Dedu√ß√µes -->
        <h2>Dedu√ß√µes</h2>

        <div class="input-group">
            <input type="number" id="impostos" placeholder=" ">
            <label for="impostos">Impostos (%):</label>
        </div>

        <div class="input-group">
            <input type="number" id="taxaCartao" placeholder=" ">
            <label for="taxaCartao">Taxa de Cart√£o (%):</label>
        </div>

        <div class="input-group">
            <input type="number" id="comissaoPlataforma" placeholder=" ">
            <label for="comissaoPlataforma">Comiss√£o da Plataforma (%):</label>
        </div>

        <div class="input-group">
            <input type="number" id="marketing" placeholder=" ">
            <label for="marketing">Marketing (%):</label>
        </div>

        <div class="input-group">
            <input type="number" id="comissaoVendedor" placeholder=" ">
            <label for="comissaoVendedor">Comiss√£o do Vendedor (%):</label>
        </div>

        <div class="input-group">
            <input type="number" id="outrasDeducoes" placeholder=" ">
            <label for="outrasDeducoes">Outras Dedu√ß√µes (%):</label>
        </div>

        <div class="input-group">
            <input type="number" id="custoVenda" placeholder=" ">
            <label for="custoVenda">Custo de Venda (R$):</label>
        </div>

        <div class="input-group">
            <input type="number" id="embalagem" placeholder=" ">
            <label for="embalagem">Embalagem (R$):</label>
        </div>

        <div class="input-group">
            <input type="number" id="frete" placeholder=" ">
            <label for="frete">Custo de Frete (R$):</label>
        </div>

        <div class="input-group">
            <input type="number" id="outrosInsumos" placeholder=" ">
            <label for="outrosInsumos">Outros Insumos (R$):</label>
        </div>

        <!-- Bot√£o de c√°lculo -->
        <button onclick="calcularPreco()">Calcular</button>

        <!-- Resultado em Cards -->
        <div class="cards-container">
            <div class="card">
                <span class="card-icon">üí∞</span>
                <h3>Pre√ßo de Venda</h3>
                <p id="precoVendaResultado" data-tooltip="Valor final do produto ap√≥s dedu√ß√µes.">R$ 0,00</p>
            </div>
            <div class="card">
                <span class="card-icon">üìà</span>
                <h3>Lucro Bruto</h3>
                <p id="lucroBrutoResultado" data-tooltip="Diferen√ßa entre o pre√ßo de venda e o custo do produto.">R$ 0,00</p>
            </div>
            <div class="card">
                <span class="card-icon">üìâ</span>
                <h3>Dedu√ß√µes Totais</h3>
                <p id="deducoesResultado" data-tooltip="Soma de todas as dedu√ß√µes e despesas.">R$ 0,00</p>
            </div>
            <div class="card">
                <span class="card-icon">üí°</span>
                <h3>Margem de Contribui√ß√£o</h3>
                <p id="margemContribuicaoResultado" data-tooltip="Valor que sobra ap√≥s deduzir custos e despesas.">R$ 0,00</p>
            </div>
        </div>

        <!-- Barra de Progresso -->
        <div class="progress-container">
            <h3>Progresso para Margem M√≠nima</h3>
            <div class="progress-bar">
                <div id="progressoMargem" class="progress"></div>
            </div>
            <p id="textoProgresso">0%</p>
            <div id="avisoProgresso"></div>
        </div>

        <!-- Gr√°ficos -->
        <div class="grafico-container">
            <canvas id="graficoGastosLucro"></canvas>
        </div>
        <div class="grafico-container">
            <canvas id="graficoDeducoes"></canvas>
        </div>

        <!-- Explica√ß√£o -->
        <div id="explicacao">
            <h3>O que √© Margem de Contribui√ß√£o?</h3>
            <p>
                A <strong>Margem de Contribui√ß√£o</strong> √© o valor que sobra da receita ap√≥s deduzir os custos vari√°veis e despesas. Ela representa quanto cada produto contribui para cobrir os custos fixos e gerar lucro.
                <br><br>
                <strong>F√≥rmula:</strong> Margem de Contribui√ß√£o = Pre√ßo de Venda - Custo do Produto - Dedu√ß√µes Totais
            </p>
        </div>
    </div>

    <!-- Notifica√ß√£o -->
    <div id="notification" class="notification"></div>

    <!-- Loading -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
    </div>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js');
        }
    </script>
</body>
</html>
